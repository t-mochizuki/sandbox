---
layout: post
title: 振り返り
date: 2015-10-18 00:00:00
---

## まえがき

最近は『Amazon Web Services基礎からのネットワーク&サーバー構築』を読んでいます。

先週、図書館で、偶然、この本を見つけたということもありますが、以前からAWSを使ってみたいと思っていて、渡りに船とばかりにこの本を読んでいます。

振り返りは良い習慣だと思っていて、目的を再認識する機会になると思っています。他にやるべきことがあると思うのですが、頭を整理するために、この本を読む前のことやぼんやりと考えていることを振り返ります。

## この本を読む前のこと

『関数プログラミング入門 Haskellで学ぶ原理と技法』を読んでいました。[二分木からテーブルを作成する関数を定義してみる](https://t-mochizuki.github.io/sandbox/2015/09/29/二分木からテーブルを作成する関数を定義してみる.html)を書いた後、理解が足りないことを実感したので、最初から読み直して第4章リストまで読みました。

再帰的データ型宣言に苦戦したり、帰納法によって仮定から定義を導出してみたり、畳み込み関数によって再帰を抽出してみたりしました。

特に、帰納法を熟読しました。まだ帰納法に慣れてはいませんが、リストであれば`[]`と`x:xs`は命題`P(1)`と命題`P(n+1)`だと頭の中で置き換えられます。

## Huffman木から二分木を作成する関数を定義してみる

例えば、帰納法でHuffman木から二分木を作成する関数を定義してみます。

{% highlight haskell %}
data Huff = Tip Int Char | Node Int Huff Huff deriving Show
data Btree a = Leaf a | Fork (Btree a) (Btree a) deriving Show
huff2btree :: Huff -> Btree Char
{% endhighlight %}

まず、命題`P(1)`を考えます。

{% highlight haskell %}
data Huff = Tip Int Char | Node Int Huff Huff deriving Show
data Btree a = Leaf a | Fork (Btree a) (Btree a) deriving Show
huff2btree :: Huff -> Btree Char
huff2btree (Tip w c) = Leaf c
{% endhighlight %}

この未完成な定義でも動作を確認することができます。

{% highlight haskell %}
*Main> huff2btree (Tip 1 'a')
Leaf 'a'
{% endhighlight %}

次に、命題`P(n+1)`を考えます。

{% highlight haskell %}
data Huff = Tip Int Char | Node Int Huff Huff deriving Show
data Btree a = Leaf a | Fork (Btree a) (Btree a) deriving Show
huff2btree :: Huff -> Btree Char
huff2btree (Tip w c) = Leaf c
huff2btree (Node w xt yt) = Fork (???) (???)
{% endhighlight %}

こんな感じでしょうか？

右辺の分からないところを`???`としました。

`huff2btree :: Huff -> Btree Char`ということから、右辺にBtree型のデータ構成子Forkがあるだろうと考えました。

肝心なところは`???`です。`???`は命題`P(n)`です。`P(1)`ではなく`P(n)`です。もちろん、`n=1`ならば`P(n)=P(1)`です。

命題`P(n)`はこんな感じです。

{% highlight haskell %}
huff2btree xt = Fork (???) (???)
{% endhighlight %}

これを使って、命題`P(n+1)`の`???`を置き換えます。

{% highlight haskell %}
huff2btree :: Huff -> Btree Char
huff2btree (Tip w c) = Leaf c
huff2btree (Node w xt yt) = Fork (huff2btree xt) (huff2btree yt)
{% endhighlight %}

Huffman木から二分木を作成する関数が定義できました。

## あとがき

帰納法を振り返りました。

もう少し前のことやぼんやり考えていることまでは辿れず、最近のことを振り返りました。

Selenium, Circle CI, TypeScript, Electon, Scala.js, Serverspec, Ansibleが頭の中でモヤモヤしていますが、形にならないと思います。

次回はもう少し粒度を粗くして振り返りたいと思います。

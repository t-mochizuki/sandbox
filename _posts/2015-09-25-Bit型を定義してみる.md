---
layout: post
title: Bit型を定義してみる
date: 2015-09-25 00:00:00
---

### 背景

『関数プログラミング入門 Haskellで学ぶ原理と技法』を読んでいます。

と言っても、私の場合、最初から最後まで読み通すことはほとんどありません。

今回も読み通すことはないでしょう。

ただ、Huffman木の例題は追求してみようかなと思っています。

今回はBit型を考えてみます。

### Bit型とは

簡単に言えば、０と１のことです。

### Bit型を定義してみる

{% highlight haskell %}
data Bit = Zero | One deriving Show
{% endhighlight %}

### 応用

Char型をBit型のリストに変換することを考えます。

つまり、文字をビット列に変換することを考えます。

#### テーブルを定義してみる

まず、文字をビット列に変換するためのテーブルを定義します。

{% highlight haskell %}
type CodeTable = [(Char, [Bit])]
{% endhighlight %}

これは文字とビット列のタプルのリストです。

それぞれの文字に対してビット列がある感じです。

#### 文字をバイト列に変換する関数を定義してみる

次に、このテーブルを使って文字をバイト列に変換する関数を定義します。

{% highlight haskell %}
char2bits :: CodeTable -> Char -> [Bit]
char2bits ((x, bs):ts) y = if x == y then bs else char2bits ts y
{% endhighlight %}

この関数は第１引数がテーブルで、第２引数が文字で、戻り値がビット列の関数です。

テーブルに第２引数で指定した文字があれば、その文字に対するビット列を返します。

## まとめ

Bit型を定義して、テーブルを定義して、関数を定義しました。

文字をバイト列に変換できたので、次は、文字列をバイト列に変換したいです。

あと、任意の文字列からテーブルを生成したいです。

そうすれば、任意の文字列からテーブルを作成して、そのテーブルを使って文字列をバイト列に変換できると思います。

エンコードの他にもデコードが必要です。

つまり、バイト列を文字列に変換する関数が必要です。

先は長いです。。
